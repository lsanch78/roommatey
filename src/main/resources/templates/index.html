<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>RoomMatey Dashboard</title>
</head>
<body>
<h1>Welcome to RoomMatey</h1>

<h2 th:text="${todayFormatted}"></h2>

<h3>Upcoming Events</h3>
<ul th:if="${userBills}">
    <li th:each="entry : ${userBills}">
        <strong th:text="${entry.key.name}">[Roommate Name]</strong>
        <ul>
            <li th:each="bill : ${entry.value}">
                <span th:text="'Bill: ' + ${bill.name} + ' - Due ' + ${bill.dueDate} + ' ($' + ${bill.amount} + ')'"></span>
            </li>
            <li th:if="${entry.value.size() == 0}">No upcoming bills</li>
            <li th:if="${entry.key.assignedChores?.size() > 0}" th:each="chore : ${entry.key.assignedChores}">
                <span th:text="'Chore: ' + ${chore.name} + ' (' + ${chore.frequency} + ')'"></span>
            </li>
            <li th:if="${entry.key.assignedChores == null or entry.key.assignedChores.size() == 0}">No chores</li>
        </ul>
    </li>
</ul>

<hr>
<h3>Quick Links</h3>
<ul>
    <li><a th:href="@{/users/manage}">Manage Users</a></li>
    <li><a th:href="@{/bills/manage}">Manage Bills</a></li>
    <li><a th:href="@{/chores/all}">Manage Chores</a></li>
</ul>
</body>
</html>
