<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>RoomMatey Dashboard</title>
</head>
<body class="container py-4">
<h1 class="mb-4">🏠 Welcome to RoomMatey</h1>

<h4 th:text="${todayFormatted}" class="text-muted mb-3"></h4>

<h3 class="mt-4">📅 Upcoming Events</h3>
<div th:each="entry : ${userBills}" class="mb-4 border rounded p-3 shadow-sm">
    <h5 th:text="${entry.key.name}" class="text-primary"></h5>
    <ul class="list-group list-group-flush mb-2">
        <li th:each="bill : ${entry.value}" class="list-group-item">
            <span th:text="${bill.name} + ' – Due ' + ${bill.dueDate} + ' ($' + ${bill.amount} + ')'"></span>
        </li>
        <li th:if="${entry.value.size() == 0}" class="list-group-item text-muted">No upcoming bills</li>
    </ul>
    <ul class="list-group list-group-flush">
        <li th:each="chore : ${userChores[entry.key]}" class="list-group-item">
            <span th:text="${chore.name} + ' (' + chore.frequency + ')' + ' – ' + chore.instructions"></span>
        </li>
        <li th:if="${userChores[entry.key].size() == 0}" class="list-group-item text-muted">No chores assigned</li>
    </ul>
</div>

<hr class="my-4">

<h4>🔧 Configure</h4>
<ul class="list-group">
    <li class="list-group-item"><a th:href="@{/household/manage}">Manage Household</a></li>
    <li class="list-group-item"><a th:href="@{/users/manage}">Manage Users</a></li>
    <li class="list-group-item"><a th:href="@{/bills/manage}">Manage Bills</a></li>
    <li class="list-group-item"><a th:href="@{/chores/all}">Manage Chores</a></li>
</ul>
</body>

</html>
